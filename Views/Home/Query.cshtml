@{
	ViewData["Title"] = "Query result";
}

@using System.Data
@model System.Data.DataTable

<style>
	table, th, td {
		border: 1px solid black;
	}
</style>

<!DOCTYPE html>
<html>

<head>
	<title>Результат</title>
</head>

<body>
	<div>
		<h2>Результат запроса</h2>

		@if (TempData["alertMessage"] != null)
		{
			<label class ="error">@TempData["alertMessage"]</label>
		}
		else
		{
			if (Model.Rows.Count == 0)
			{
				<label> Данные не найдены. </label>
			}
			else
			{
				<table>
					<tr>
						@foreach (DataColumn column in Model.Columns)
						{
							<th>@column.ColumnName</th>
						}
					</tr>

					@foreach (DataRow row in Model.Rows)
					{
						<tr>
							@foreach (DataColumn column in Model.Columns)
							{
								<td>@row[column.ColumnName]</td>
							}
						</tr>
					}
				</table>
			}
		}

	</div>
</body>
</html>